set JAVA_HOME=C:\NAITS_~1\java
set JRE_HOME=%JAVA_HOME%
set JAVA_OPTS=++JvmOptions="-Djava.awt.headless=true" ++JvmOptions="-XX:+UseG1GC" ++JvmOptions="-Dfile.encoding=UTF-8" ++JvmOptions="-XX:NewSize={{ (ansible_memtotal_mb * 0.4)|round|int }}m -XX:MaxNewSize={{ (ansible_memtotal_mb * 0.4)|round|int }}m -XX:+UseParNewGC -XX:MaxTenuringThreshold=6 -XX:SurvivorRatio=8 -XX:+UseConcMarkSweepGC -XX:+CMSParallelRemarkEnabled -XX:+ParallelRefProcEnabled -XX:+CMSClassUnloadingEnabled -XX:CMSInitiatingOccupancyFraction=60 -XX:+UseCMSInitiatingOccupancyOnly -XX:PermSize={{ (ansible_memtotal_mb * 0.60)|round|int }}m -XX:MaxPermSize={{ (ansible_memtotal_mb * 0.4)|round|int }}m -Xms{{ (ansible_memtotal_mb * 0.70)|round|int }}m -Xmx{{ (ansible_memtotal_mb * 0.70)|round|int }}m -verbose:gc -XX:+PrintGCTimeStamps -XX:+PrintGCDetails -XX:+PrintGCApplicationStoppedTime -XX:+PrintGCApplicationConcurrentTime -XX:+PrintHeapAtGC -XX:-HeapDumpOnOutOfMemoryError -Xloggc:$CATALINA_BASE/logs/gc.log" --JvmMs 256 --JvmMx 512
